{"ast":null,"code":"var __jsx = React.createElement;\nimport { Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeAndPushVC } from \"../store\";\nimport isMobile from \"../helpers/isMobile\";\n\nclass IssueVCButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.dispatch = props.dispatch;\n    this.session = props.session;\n    this.hasRequiredAttributes = props.hasRequiredAttributes;\n    this.vcIssuanceEndpoint = props.vcIssuanceEndpoint;\n    this.vcType = props.vcType;\n    this.click = this.click.bind(this);\n  }\n\n  componentDidMount() {}\n\n  click() {\n    const vcType = this.props.vcType;\n    console.log(\"issueVCButton:: click called with session id \" + this.props.uuid);\n    let url = this.props.baseUrl ? `${this.props.baseUrl}seal/issueVC` : `/seal/issueVC`;\n    console.log(`will send request for ${url} type ${vcType} isMobile ${isMobile()}`);\n    this.props.sendVC(`${url}`, this.props.userSelection, vcType, this.props.uuid, isMobile());\n  }\n\n  render() {\n    const textMessage = this.props.text ? this.props.text : \"Έκδοση\";\n    return __jsx(Button, {\n      variant: \"primary\",\n      disabled: !this.props.hasRequiredAttributes,\n      onClick: this.click\n    }, {\n      textMessage\n    }) // </Link>\n    ;\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    status: state.sessionStatus\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    sendVC: (url, userSelection, vcType, uuid, isMobile) => {\n      // consnole.log(\"issueVCButton.js user mapDispatchToProps\")\n      // console.log(userSelection)\n      dispatch(makeAndPushVC(url, userSelection, vcType, uuid, isMobile));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IssueVCButton);","map":{"version":3,"sources":["/home/ni/code/js/sbchain-issuer/components/IssueVCButton.js"],"names":["Button","React","connect","makeAndPushVC","isMobile","IssueVCButton","Component","constructor","props","dispatch","session","hasRequiredAttributes","vcIssuanceEndpoint","vcType","click","bind","componentDidMount","console","log","uuid","url","baseUrl","sendVC","userSelection","render","textMessage","text","mapStateToProps","state","status","sessionStatus","mapDispatchToProps"],"mappings":";AAAA,SAASA,MAAT,QAAuB,iBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,QAA8B,UAA9B;AACA,OAAOC,QAAP,MAAqB,qBAArB;;AAEA,MAAMC,aAAN,SAA4BJ,KAAK,CAACK,SAAlC,CAA4C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,QAAL,GAAgBD,KAAK,CAACC,QAAtB;AACA,SAAKC,OAAL,GAAeF,KAAK,CAACE,OAArB;AACA,SAAKC,qBAAL,GAA6BH,KAAK,CAACG,qBAAnC;AACA,SAAKC,kBAAL,GAA0BJ,KAAK,CAACI,kBAAhC;AACA,SAAKC,MAAL,GAAaL,KAAK,CAACK,MAAnB;AACA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;AACD;;AAEDC,EAAAA,iBAAiB,GAAG,CAAE;;AAEtBF,EAAAA,KAAK,GAAG;AACN,UAAMD,MAAM,GAAG,KAAKL,KAAL,CAAWK,MAA1B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAY,kDAAkD,KAAKV,KAAL,CAAWW,IAAzE;AACA,QAAIC,GAAG,GAAG,KAAKZ,KAAL,CAAWa,OAAX,GACL,GAAE,KAAKb,KAAL,CAAWa,OAAQ,cADhB,GAEL,eAFL;AAGAJ,IAAAA,OAAO,CAACC,GAAR,CACG,yBAAwBE,GAAI,SAAQP,MAAO,aAAYT,QAAQ,EAAG,EADrE;AAGA,SAAKI,KAAL,CAAWc,MAAX,CAAmB,GAAEF,GAAI,EAAzB,EAA4B,KAAKZ,KAAL,CAAWe,aAAvC,EAAsDV,MAAtD,EAA8D,KAAKL,KAAL,CAAWW,IAAzE,EAA+Ef,QAAQ,EAAvF;AACD;;AAEDoB,EAAAA,MAAM,GAAG;AACP,UAAMC,WAAW,GAAG,KAAKjB,KAAL,CAAWkB,IAAX,GAAgB,KAAKlB,KAAL,CAAWkB,IAA3B,GAAgC,QAApD;AAEA,WACE,MAAC,MAAD;AACE,MAAA,OAAO,EAAC,SADV;AAEE,MAAA,QAAQ,EAAE,CAAC,KAAKlB,KAAL,CAAWG,qBAFxB;AAGE,MAAA,OAAO,EAAE,KAAKG;AAHhB,OAKG;AAACW,MAAAA;AAAD,KALH,CADF,CAQE;AARF;AAUD;;AAtCyC;;AAyC5C,SAASE,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLC,IAAAA,MAAM,EAAED,KAAK,CAACE;AADT,GAAP;AAGD;;AAED,MAAMC,kBAAkB,GAAGtB,QAAQ,IAAI;AACrC,SAAO;AACLa,IAAAA,MAAM,EAAE,CAACF,GAAD,EAAMG,aAAN,EAAqBV,MAArB,EAA6BM,IAA7B,EAAmCf,QAAnC,KAAgD;AACtD;AACA;AACAK,MAAAA,QAAQ,CAACN,aAAa,CAACiB,GAAD,EAAMG,aAAN,EAAqBV,MAArB,EAA6BM,IAA7B,EAAmCf,QAAnC,CAAd,CAAR;AACD;AALI,GAAP;AAOD,CARD;;AAUA,eAAeF,OAAO,CAACyB,eAAD,EAAkBI,kBAAlB,CAAP,CAA6C1B,aAA7C,CAAf","sourcesContent":["import { Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport { connect } from \"react-redux\";\nimport { makeAndPushVC } from \"../store\";\nimport isMobile from \"../helpers/isMobile\";\n\nclass IssueVCButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.dispatch = props.dispatch;\n    this.session = props.session;\n    this.hasRequiredAttributes = props.hasRequiredAttributes;\n    this.vcIssuanceEndpoint = props.vcIssuanceEndpoint;\n    this.vcType= props.vcType\n    this.click = this.click.bind(this);\n  }\n\n  componentDidMount() {}\n\n  click() {\n    const vcType = this.props.vcType;\n    console.log(\"issueVCButton:: click called with session id \" + this.props.uuid)\n    let url = this.props.baseUrl\n      ? `${this.props.baseUrl}seal/issueVC`\n      : `/seal/issueVC`;\n    console.log(\n      `will send request for ${url} type ${vcType} isMobile ${isMobile()}`\n    );\n    this.props.sendVC(`${url}`, this.props.userSelection, vcType, this.props.uuid, isMobile());\n  }\n\n  render() {\n    const textMessage = this.props.text?this.props.text:\"Έκδοση\"\n\n    return (\n      <Button\n        variant=\"primary\"\n        disabled={!this.props.hasRequiredAttributes}\n        onClick={this.click}\n      >\n        {{textMessage}}\n      </Button>\n      // </Link>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    status: state.sessionStatus\n  };\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    sendVC: (url, userSelection, vcType, uuid, isMobile) => {\n      // consnole.log(\"issueVCButton.js user mapDispatchToProps\")\n      // console.log(userSelection)\n      dispatch(makeAndPushVC(url, userSelection, vcType, uuid, isMobile));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IssueVCButton);\n"]},"metadata":{},"sourceType":"module"}