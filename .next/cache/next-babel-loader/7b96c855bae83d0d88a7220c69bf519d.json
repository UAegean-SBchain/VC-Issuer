{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport QrPrompt from \"./QrPrompt\";\nimport SSE from \"./Sse.js\";\n\nvar PairOrCard = function PairOrCard(props) {\n  var unAuthorizedIssuance = __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col\",\n    style: {\n      marginTop: \"3rem\",\n      marginBottom: \"3rem\",\n      textAlign: \"center\"\n    }\n  }, \"You are not authorized to receive such a Credential\"));\n\n  var vcSentToUser = __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col\",\n    style: {\n      marginTop: \"3rem\",\n      marginBottom: \"3rem\",\n      textAlign: \"center\"\n    }\n  }, __jsx(\"img\", {\n    alt: \"\",\n    src: \"/finished.png\",\n    style: {\n      maxWidth: \"15rem\",\n      display: \"block\",\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  }), __jsx(\"p\", null, \"The verifiable credential has been sent to your mobile phone succesfully!\", __jsx(\"br\", null), \"You should receive a notification, prompting you to store it, very soon. Please check your wallet notifications\")));\n\n  if (props.vcSent) {\n    return vcSentToUser;\n  }\n\n  if (props.unauthorized) {\n    return unAuthorizedIssuance;\n  }\n\n  if (props.qrData && !props.DID) {\n    var sseEndpoint = props.baseUrl ? \"\".concat(props.endpoint, \"/\").concat(props.baseUrl) : props.endpoint;\n    return __jsx(\"div\", null, __jsx(QrPrompt, {\n      qrData: props.qrData,\n      message: \"Social Solidarity Income Issuer Service is requesting to connect your uPort wallet:\",\n      permissions: [\"Push Notifications\"],\n      baseUrl: props.baseUrl\n    }), __jsx(SSE, {\n      uuid: props.uuid,\n      endpoint: sseEndpoint,\n      serverSessionId: props.serverSessionId,\n      sealSession: props.sealSession\n    }));\n  } else {\n    if (props.DID) {\n      if (props.selfForm && !props.formDataUploaded) {\n        return props.selfForm;\n      }\n\n      return props.card;\n    } else {\n      return __jsx(\"div\", null, \"Generating Wallet Pairing Request...\");\n    }\n  }\n};\n\n_c = PairOrCard;\nexport default PairOrCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"PairOrCard\");","map":{"version":3,"sources":["/home/ni/code/js/sbchain-issuer/components/PairOrCard.js"],"names":["QrPrompt","SSE","PairOrCard","props","unAuthorizedIssuance","marginTop","marginBottom","textAlign","vcSentToUser","maxWidth","display","marginLeft","marginRight","vcSent","unauthorized","qrData","DID","sseEndpoint","baseUrl","endpoint","uuid","serverSessionId","sealSession","selfForm","formDataUploaded","card"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,OAAOC,GAAP,MAAgB,UAAhB;;AAEA,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC5B,MAAIC,oBAAoB,GACtB;AAAK,IAAA,SAAS,EAAE;AAAhB,KACE;AACE,IAAA,SAAS,EAAE,KADb;AAEE,IAAA,KAAK,EAAE;AACLC,MAAAA,SAAS,EAAE,MADN;AAELC,MAAAA,YAAY,EAAE,MAFT;AAGLC,MAAAA,SAAS,EAAE;AAHN;AAFT,2DADF,CADF;;AAeA,MAAIC,YAAY,GACd;AAAK,IAAA,SAAS,EAAE;AAAhB,KACE;AACE,IAAA,SAAS,EAAE,KADb;AAEE,IAAA,KAAK,EAAE;AACLH,MAAAA,SAAS,EAAE,MADN;AAELC,MAAAA,YAAY,EAAE,MAFT;AAGLC,MAAAA,SAAS,EAAE;AAHN;AAFT,KAQE;AACE,IAAA,GAAG,EAAC,EADN;AAEE,IAAA,GAAG,EAAC,eAFN;AAGE,IAAA,KAAK,EAAE;AACLE,MAAAA,QAAQ,EAAE,OADL;AAELC,MAAAA,OAAO,EAAE,OAFJ;AAGLC,MAAAA,UAAU,EAAE,MAHP;AAILC,MAAAA,WAAW,EAAE;AAJR;AAHT,IARF,EAkBE,8FAGE,iBAHF,oHAlBF,CADF,CADF;;AA+BA,MAAIT,KAAK,CAACU,MAAV,EAAkB;AAChB,WAAOL,YAAP;AACD;;AAED,MAAIL,KAAK,CAACW,YAAV,EAAuB;AACrB,WAAOV,oBAAP;AACD;;AAED,MAAID,KAAK,CAACY,MAAN,IAAgB,CAACZ,KAAK,CAACa,GAA3B,EAAgC;AAC9B,QAAIC,WAAW,GAAGd,KAAK,CAACe,OAAN,aACXf,KAAK,CAACgB,QADK,cACOhB,KAAK,CAACe,OADb,IAEdf,KAAK,CAACgB,QAFV;AAGA,WACE,mBACE,MAAC,QAAD;AACE,MAAA,MAAM,EAAEhB,KAAK,CAACY,MADhB;AAEE,MAAA,OAAO,EACL,qFAHJ;AAKE,MAAA,WAAW,EAAE,CAAC,oBAAD,CALf;AAME,MAAA,OAAO,EAAEZ,KAAK,CAACe;AANjB,MADF,EASE,MAAC,GAAD;AACE,MAAA,IAAI,EAAEf,KAAK,CAACiB,IADd;AAEE,MAAA,QAAQ,EAAEH,WAFZ;AAGE,MAAA,eAAe,EAAEd,KAAK,CAACkB,eAHzB;AAIE,MAAA,WAAW,EAAElB,KAAK,CAACmB;AAJrB,MATF,CADF;AAkBD,GAtBD,MAsBO;AACL,QAAInB,KAAK,CAACa,GAAV,EAAe;AACb,UAAIb,KAAK,CAACoB,QAAN,IAAkB,CAACpB,KAAK,CAACqB,gBAA7B,EAA+C;AAC7C,eAAOrB,KAAK,CAACoB,QAAb;AACD;;AAED,aAAOpB,KAAK,CAACsB,IAAb;AACD,KAND,MAMO;AACL,aAAO,0DAAP;AACD;AACF;AACF,CAxFD;;KAAMvB,U;AA0FN,eAAeA,UAAf","sourcesContent":["import QrPrompt from \"./QrPrompt\";\nimport SSE from \"./Sse.js\";\n\nconst PairOrCard = (props) => {\n  let unAuthorizedIssuance = (\n    <div className={\"row\"}>\n      <div\n        className={\"col\"}\n        style={{\n          marginTop: \"3rem\",\n          marginBottom: \"3rem\",\n          textAlign: \"center\",\n        }}\n      >\n        You are not authorized to receive such a Credential\n      </div>\n    </div>\n  );\n\n  let vcSentToUser = (\n    <div className={\"row\"}>\n      <div\n        className={\"col\"}\n        style={{\n          marginTop: \"3rem\",\n          marginBottom: \"3rem\",\n          textAlign: \"center\",\n        }}\n      >\n        <img\n          alt=\"\"\n          src=\"/finished.png\"\n          style={{\n            maxWidth: \"15rem\",\n            display: \"block\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n          }}\n        />\n        <p>\n          The verifiable credential has been sent to your mobile phone\n          succesfully!\n          <br />\n          You should receive a notification, prompting you to store it, very\n          soon. Please check your wallet notifications\n        </p>\n      </div>\n    </div>\n  );\n\n  if (props.vcSent) {\n    return vcSentToUser;\n  }\n\n  if (props.unauthorized){\n    return unAuthorizedIssuance;\n  }\n\n  if (props.qrData && !props.DID) {\n    let sseEndpoint = props.baseUrl\n      ? `${props.endpoint}/${props.baseUrl}`\n      : props.endpoint;\n    return (\n      <div>\n        <QrPrompt\n          qrData={props.qrData}\n          message={\n            \"Social Solidarity Income Issuer Service is requesting to connect your uPort wallet:\"\n          }\n          permissions={[\"Push Notifications\"]}\n          baseUrl={props.baseUrl}\n        />\n        <SSE\n          uuid={props.uuid}\n          endpoint={sseEndpoint}\n          serverSessionId={props.serverSessionId}\n          sealSession={props.sealSession}\n        />\n      </div>\n    );\n  } else {\n    if (props.DID) {\n      if (props.selfForm && !props.formDataUploaded) {\n        return props.selfForm;\n      }\n\n      return props.card;\n    } else {\n      return <div>Generating Wallet Pairing Request...</div>;\n    }\n  }\n};\n\nexport default PairOrCard;\n"]},"metadata":{},"sourceType":"module"}